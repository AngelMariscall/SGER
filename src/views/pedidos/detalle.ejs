<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detalle Pedido | SGER</title>
    <link rel="stylesheet" href="/css/style.css">
    <style>
        body { margin: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif; background: #f6f7fb; }
        .layout { display: grid; grid-template-columns: 240px 1fr; min-height: 100vh; }
        .sidebar { background: #1f2937; color: #fff; padding: 16px; }
        .sidebar h2 { font-size: 18px; margin: 0 0 16px; }
        .sidebar a { display: block; color: #cbd5e1; text-decoration: none; padding: 10px 12px; border-radius: 8px; margin-bottom: 6px; }
        .sidebar a:hover { background: #374151; color: #fff; }
        .content { padding: 24px; }
        .topbar { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .topbar .title { font-size: 22px; font-weight: 600; color: #111827; }
        .card { background: #fff; border: 1px solid #e5e7eb; border-radius: 12px; padding: 16px; box-shadow: 0 1px 2px rgba(0,0,0,0.04); }
        .item { margin-bottom: 8px; color: #374151; }
        .list { margin-top: 12px; }
    </style>
</head>

<body>
    <div class="layout">
        <aside class="sidebar">
            <h2>Menú</h2>
            <a href="/dashboard">Dashboard</a>
            <a href="/usuarios">Usuarios</a>
            <a href="/repartidores">Repartidores</a>
            <a href="/pedidos">Pedidos</a>
            <a href="/zonas">Zonas</a>
            <a href="/asignacion">Asignación</a>
            <a href="/auth/perfil">Perfil</a>
            <a href="/auth/logout">Salir</a>
        </aside>

        <main class="content">
            <div class="topbar">
                <div class="title">Detalle del Pedido</div>
                <div><a class="btn" href="/pedidos">Volver a la lista</a></div>
            </div>
            <div class="card">
                <div class="item"><strong>Cliente:</strong> <%= pedido.cliente.nombre %></div>
                <div class="item"><strong>Teléfono:</strong> <%= pedido.cliente.telefono %></div>
                <div class="item"><strong>Dirección:</strong> <%= pedido.direccion.calle %>, <%= pedido.direccion.localidad %>, <%= pedido.direccion.ciudad %></div>
                <div class="item"><strong>Zona:</strong> <%= pedido.zona %></div>
                <div class="item"><strong>Estatus:</strong> <%= pedido.estatus %></div>
                <div class="item"><strong>Repartidor:</strong> <%= pedido.repartidor_id || "Sin asignar" %></div>
                <div class="list">
                    <strong>Productos</strong>
                    <ul>
                        <% pedido.detalles.forEach(d=> { %>
                            <li><%= d.cantidad %> x <%= d.producto %> ($<%= d.precio %>)</li>
                        <% }) %>
                    </ul>
                </div>
                <div class="item"><strong>Total:</strong> $<%= pedido.total %></div>
            </div>
        </main>
    </div>

</body>

</html>